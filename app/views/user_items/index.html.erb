<div class="shopping-cart-container" >
  <h1>Your Order</h1>
  <% @shopping_cart.order("created_at asc").each do |user_item| %>
    <div class="shopping-cart-card" style="display: flex; flex-direction: row; border: 1px solid black; justify-content: space-between; padding: 16px;" data-quant="<%= user_item.quantity %>">
      <div>
        <h4><%= user_item.item.name %></h4>
        <% unless user_item.options.nil? %>
        <p>Options:
          <% user_item.options.each do |option| %>
            <% itemOption = ItemOption.find(option) %>
            <%= itemOption.name %>
          <% end %>
        </p>
        <% end %>
        <% if user_item.special_instructions.length > 0 %>
          <p>Special Notes: <%= user_item.special_instructions %></p>
        <% end %>
      </div>

      <div> <p><strong>Quantity</strong></p>
      <div style="display: flex;">
        <!-- <p style="margin-right: 4px;"><%= user_item.quantity %></p> -->
        <form class="quantity-list" action="<%= updateQuantity_user_item_path(user_item) %>" method="POST">
          <input name="authenticity_token" value="<%= form_authenticity_token %>" type="hidden">
          <select name="modalQuantity">
            <option class="quantity-form-option" value="1">1</option>
            <option class="quantity-form-option" value="2">2</option>
            <option class="quantity-form-option" value="3">3</option>
            <option class="quantity-form-option" value="4">4</option>
            <option class="quantity-form-option" value="5">5</option>
            <option class="quantity-form-option" value="6">6</option>
            <option class="quantity-form-option" value="7">7</option>
            <option class="quantity-form-option" value="8">8</option>
            <option class="quantity-form-option" value="9">9</option>
            <option class="quantity-form-option" value="10">10</option>
            <option class="quantity-form-option" value="11">11</option>
            <option class="quantity-form-option" value="12">12</option>
            <option class="quantity-form-option" value="13">13</option>
            <option class="quantity-form-option" value="14">14</option>
          </select>
        </form>
        <p><%= link_to 'Delete', user_item_path(user_item), method: :delete, data: { confirm: "Are you sure?" }, html_input: { } %></p>
      </div>
      <p>Subtotal: <%= user_item.quantity * user_item.item.price %></p>

      </div>
    </div>
  <% end %>

  Total: <%= @shoppingCartPriceCounter %>
  Quantity: <%= @shoppingCartQuantity %>

  <% if current_user.user_items.where(state: "pending").length > 0 %>
  <%= form_tag orders_path do %>
<!--     <%= hidden_field_tag "shopping_cart_total", @shopping_cart_total.to_i %> -->
    <%= submit_tag 'Next: Checkout', class: 'btn btn-primary' %>
  <% end %>
  <% else %>
  <h1>You have not added any items to your shopping cart!</h1>
  <% end %>
</div>

<%= javascript_pack_tag 'shopping_cart' %>
